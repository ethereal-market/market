!function(){"use strict";var e,a,t,n;n=e=>a=>{var t,n;return t=!1,n=e=>(t=!1,a(e)),()=>{t||(t=!0,e(n))}},a=e=>a=>t=>{e(),a.push(t)},e=e=>a=>{var t;return t=e(),()=>{var n;return a({delta:(n=e())-t,ts:t=n})}},t=e=>a=>{var t,n,d,s;for(n=0;n<(d=a.length);)try{for(;n<d;)a[n++](e)}catch(e){t=e,console.error(t),(s=a[n-1].r)&&s(t)}a.length=0};var d,s,i,r,l,o={}.hasOwnProperty;({assign:d,create:s,keys:r}=Object),i=e=>"function"==typeof e;var c,u,p,m,b=l=(e,a,t)=>{var n,r,c,u,p,m,b,y,f,x,h,g,v,w;for(y in p=e._,c=e,r=!1,n=f=()=>n=f,m=e=>{n=(a=>()=>{a(),e()})(n),h()},e)(w=e[y])&&w._&&(c[y]=l(w,m,(e=>a=>c[e]=a)(y)));for(y in x=e=>(h(),c=e),h=()=>{r||(r=!0,a(g))},g=()=>{var e;for(y in r=!1,e=c,c=s(null),e)c[y]=e[y];n(),t(c)},c._=v=e=>i(e)?b(e):e?x(d(s(c),e)):c,b=e=>a=>{var t,n,r;for(y in t=s(c),r=e(a,t),t)if(o.call(t,y)){n=!0,x(t);break}return i(r)?b(r):(!r||n||r===t||r.then||x(d(t,r)),r)},p)u=p[y],v[y]=b(u);return c};c=Symbol("VNODE"),u={};var y,f,x,h,g,v,w,k,_,T,S,C,B,E,A,O,M,P,W,I,F=p=(...e)=>{var a,t;return"function"==typeof(t=e[0])?m(...e):(a=u[t])?(e[0]=a,m(...e)):(e[c]=!0,e)};p.VNODE=c,p.use=e=>{var a,t;for(a in e)t=e[a],u[a]=t},m=(e,a,...t)=>{var n,d,s,i;if(t[0])for(d=a.children=[],s=0,i=t.length;s<i;s++)!(n=t[s])[c]&&Array.isArray(n)?d.push(...n):d.push(n);return e(a)},({VNODE:h}=S=F),({isArray:C}=Array),w=document,y=Symbol("ELEMENT"),f=Symbol("EVENTS"),x=Symbol("KEYED"),v=null,g=!0,_=e=>{e.currentTarget[f][e.type](e)};P=(e,a)=>{var t,n,d,s,i,r;if(a=e.namespaceURI||a,3===e.nodeType)return e.nodeValue;for(r=S(e.nodeName.toLowerCase(),null),({childNodes:t}=(i=e.shadowRoot)?(r.patch=O(r,e,i,a),i):e),n=d=0,s=t.length;d<s;n=d+=1)r.push(P(t[n]));return r},A=(e,a,t,n,d)=>{var s,i,r,l;if(t!==n)if(null==n||null==t||n[h]||t[h]){if(d=t&&(null!=(l=t[1])?l.xmlns:void 0)||d,null==t||null==n||n[0]!==t[0])return null!=t&&(s=B(t,d),e.insertBefore(s,a)),null!=n&&(M(e,a),v.next(()=>k(n))),s;(r=n.patch)?(t.patch=r,r(t)):(I(a,t[1],n[1],d),E(a,t,n,d)),(i=t[1]&&t[1][g?"oncreate":"onupdate"])&&i(a)}else a.nodeValue=t;return a},E=(e,a,t,n)=>{var d,s,i,r,l,o,c,u,p,m,b,f,g,w,_,S,E,O,P,W,I,F;for(l=o=2,O=W=P=I=r=0,m=a.length,b=(null!=t?t.length:void 0)||0,d=!1;;){for(;l<=m;)if(null==(s=a[l])||!0===s||!1===s)l++;else{if(s[h]||!C(s)){l++;break}if(P||(P=s.length),null!=(E=s[O])&&!0!==E&&!1!==E){O++,s=E;break}O<P?O++:(O=P=0,l++)}for(u=T(s);o<=b;)if(g=null,null==(f=t[o])||!0===f||!1===f)o++;else if(f[h]||!C(f)){if(o++,g=T(f),!w||!g||w[g])break}else if(I||(I=f.length),null!=(E=f[W])&&!0!==E&&!1!==E){if(W++,g=T(f=E),!w||!g||w[g])break}else W<I?W++:(W=I=0,o++);if(null==s&&null==f)break;i=e.childNodes[r],d||!u&&!g||(d=!0,w=t&&t[x],p=a[x]=Object.create(null)),w&&s&&g!==u?(_=(S=w[u])?A(e,S[y],s,S,n):B(s,n),e.insertBefore(_,i),f&&(M(e,i),g?v.render((e=>()=>{if(w[e])return k(w[e])})(g)):k(f)),i=_):i=A(e,i,s,f,n),null!=s&&(r++,u&&(s[y]=i,p[u]=s,w&&(w[u]=null)))}if(w)for(c in w)(F=w[c])&&(p[c]=F)},B=(e,a)=>{var t,n,d,s;return e[h]?(t=a?w.createElementNS(a,e[0]):w.createElement(e[0]),I(t,e[1],null,a),(s=e[1]&&e[1].attachShadow)?(d=t.attachShadow(s),e.patch=O(e,t,d,a),E(d,e,null,a)):E(t,e,null,a),(n=e[1]&&e[1].oncreate)&&n(t),t):w.createTextNode(e)},M=(e,a)=>{e.removeChild(a)},k=e=>{var a,t,n;for(({length:t}=e);t-- >0;)C(a=e[t])&&k(a);(n=e[1]&&e[1].onremove)&&n()},I=(e,a,t,n)=>{var d,s,i;for(d in t)s=t[d],a&&null!=a[d]||W(e,d,null,s,n);for(d in a)(i=a[d])!==(s="value"===d||"checked"===d?e[d]:t&&t[d])&&W(e,d,i,s,n)},W=(e,a,t,n,d)=>{var s,i,r,l;if("key"===a||"attachShadow"===a);else if("style"===a)if(r=e[a],"string"==typeof t)r.cssText=t;else{if("string"==typeof n)r.cssText="";else for(i in t={...t},n)null==t[i]&&(t[i]="");for(i in t)l=t[i],45===i.charCodeAt(0)?r.setProperty(i,l):r[i]=l}else 111===a.charCodeAt(0)&&110===a.charCodeAt(1)?(a=a.slice(2),s=e[f]||(e[f]={}),n||(n=s[a]),s[a]=t,t?n||e.addEventListener(a,_):e.removeEventListener(a,_)):a in e&&"list"!==a&&"type"!==a&&"draggable"!==a&&"spellcheck"!==a&&"translate"!==a&&!d?e[a]=null!=t?t:t="":null!=t&&!1!==t?e.setAttribute(a,t):e.removeAttribute(a)},T=e=>e&&e[1]&&e[1].key,O=(e,a,t,n)=>d=>{d!==e&&(I(a,d[1],e[1],n),E(t,d,e,n),e=d)};var D,L,N,H,Q,R,U,V,$,j,Y,q,K,G,z,X,J,Z,ee,ae,te,ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};K=ne.document,L=Symbol("NAMED"),N=Symbol("WILD"),D=Symbol("LEAF"),G=new WeakMap,Y=null,$=null,U=null,V=null,Q=null,j=!1,H=()=>404,R=()=>Q=H;var de,se,ie,re=e=>(Y=e,(e,a)=>{var t;return $=e,({href:t}=a||(a=location)),!j&&K&&(ae(),j=!0),t!==U&&ee(a),e._.push||q(),V.state=e,Q(V)});q=()=>{var e;e=()=>Y.next(()=>{ee(location),$._({}),Y.frame(()=>scrollTo(0,0))}),$._.push=a=>{history.replaceState({height:document.body.clientHeight},""),history.pushState({},"",a),e()},$._.replace=a=>{history.replaceState({},"",a),e()}},ae=()=>{K.addEventListener(K.ontouchstart?"touchstart":"click",e=>{var a;for(a=("function"==typeof e.composedPath?e.composedPath()[0]:void 0)||e.target;a&&"A"!==a.nodeName;)a=a.parentNode;if(!(!a||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||"_blank"===a.target||a.origin!==location.origin||a.getAttribute("href").startsWith("#")))return e.preventDefault(),$._.push(a.href)}),addEventListener("popstate",({state:e})=>{var a;return({style:a}=K.body),a.minHeight=`${null!=e?e.height:void 0}px`,ee(location),$._({}),setTimeout(()=>Y.render(()=>a.minHeight=""),1e3)})},ee=e=>{var a,t,n,d,s,i,r,l,o,c,u,p;if(({href:t,pathname:l,search:u,hash:a,query:o}=e),U=t,!o)for(o={},n=d=0,i=(c=u.slice(1).split("&")).length;d<i;n=++d)r=c[n],[s,p]=r.split("="),o[s]=p;Z(z($.routes),l),V={...V,pathname:l,search:u,query:o,hash:a}},z=e=>{var a;return(a=G.get(e))||G.set(e,a=J(e)),a},Z=(e,a)=>{var t;return t=a.split("/"),te({},e,t,1,R)},te=(e,a,t,n,d)=>{var s,i,r,l;d=a[N]||d,(r=t[n])?(l=a[r])?te(e,l,t,n+1,d):(i=a[L])?i(e,a,t,n,()=>d(e,a,t,n)):d(e,a,t,n):(s=a[D])?(V={param:e},Q=s):d(e,a,t,n)},J=e=>{var a,t,n,d,s;for(a in d={},e)s=e[a],t=0,null==(n=a.split("/"))[1]||n[0]||(t=1),"object"==typeof s?Object.assign(X(d,n,t),z(s)):X(d,n,t,s);return d},X=(e,a,t,n)=>{var d,s,i,r;return(r=a[t])?58===(d=r.charCodeAt(0))?(s=r.slice(1),i=e[L]||(e[L]=(e,a,t,n,d)=>{d=a[N]||d,(e={...e})[s]=t[n],te(e,i,t,n+1,d)}),X(i,a,t+1,n)):42===d?(e[N]=(e,a,t,d)=>{var s;s=t.slice(d),V={param:e,wild:s},Q=n},e):X(e[r]||(e[r]={}),a,t+1,n):(n&&(e[D]=n),e)};var le=(e=>a=>{var t,n,d,s;return v=e,d=null,n=null,(t=a.children[0])&&(d=P(t)),s=()=>{t=A(a,t,n,d),d=n},(e,a)=>{n=e(a),g?(s(),g=!1):v.render(s)}})(ie=((d,s,i=["next","catch","then","finally","render"],r="frame")=>{var l,o,c,u,p,m;return u=[],p=i.map(()=>[]),l=e(d)(t),c=n(s)(()=>{var e;return(e=l())(u),setTimeout(()=>p.forEach(e))}),o=a(c),(m={})[r]=o(u),i.forEach((e,a)=>m[e]=o(p[a])),m})(Date.now,requestAnimationFrame));re(ie);se=b;var oe,ce,ue,pe,me=e=>a=>t=>{var n;return e._||(e._={}),n=se(e,ie.finally,e=>t(a,e)),t(a,n),n},be=de=F,ye="ethereal.market",fe="0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",xe="0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",he=(e,a)=>(a||(a=8),a=Math.min(a,8),!e&&0!==e||isNaN(e)?"":e.toFixed(a)),ge=e=>e.toLocaleString("en",{useGrouping:!1,maximumFractionDigits:0});ce=0,ue=e=>a=>(...t)=>{clearTimeout(ce),ce=setTimeout(a,e,...t)},pe=e=>(...a)=>(clearTimeout(ce),e(...a)),oe=(e,a,t,n,d)=>be("div",{class:"form-group row"},be("label",{class:"col-sm-3 col-md-12 col-lg-3 col-form-label text-right text-nowrap text-uppercase",for:`${d}_${t.replace(/\s+/g,"_")}`},be("small",null,t)),be("div",{class:"col-sm-9 col-md-12 col-lg-9 input-group"},be("input",{class:"form-control text-right",type:"text",inputmode:"decimal",id:`${d}_${t.replace(/\s+/g,"_")}`,placeholder:he(0,a.decimals),required:!0,pattern:"[0-9]*.?[0-9]*",title:"Please enter your desired number",autocomplete:"off",onchange:pe(e._.readNumberAndAdjust(t)(n)(a.decimals)),onkeyup:ue(166)(e._.readNumberAndAdjust(t)(n)(a.decimals)),oncreate:e._.updateInputValue(t)(a.decimals),onupdate:e._.updateInputValue(t)(a.decimals)}),be("div",{class:"input-group-append"},be("div",{class:"input-group-text bg-dark text-white-50 tabular"},a.symbol))));var ve,we,ke,_e,Te,Se,Ce,Be,Ee,Ae=e=>{var a,t,n,d,s;return({account:a,market:t,tokenA:d,tokenB:s,rainbow:n}=e),a._.init(),t._.init(),d._.init(),s._.init(),n._.init(),t.on_balance_update=we(500)(()=>(d._.getBalance(),d._.getAllowance(),s._.getBalance(),s._.getAllowance())),be("div",{class:"container d-flex w-100 h-100 p-3 mx-auto flex-column",onupdate:()=>(Object.assign(document.documentElement.style,n.style),Object.assign(document.body.style,n.style))},(({show_intro:e,show_menu:a,market:t,account:n,web3_wallet:d,_:s})=>be("header",{class:"masthead mb-auto"},be("div",{class:"inner"},be("a",{class:"navbar-brand tabular",style:{fontWeight:100,cursor:"pointer"},onclick:a=>(a.preventDefault(),s({show_intro:!e}),e?localStorage.hide_intro=!0:delete localStorage.hide_intro)},be("img",{class:"d-inline-block mr-3",src:"ethereal-192.png",style:{height:"3rem",width:"3rem"}}),be("div",{class:"d-inline-block position-absolute"},be("span",{class:"ethereal"},ye),be("br",null),be("sup",{class:"d-none d-lg-inline"},be("small",null,t.address)))),be("nav",{class:"nav nav-masthead justify-content-center"},n.isSignedIn?be("div",{class:`nav-item dropdown ${a?"show":void 0}`},be("a",{class:"nav-link dropdown-toggle text-left",href:"##",onclick:e=>(e.preventDefault(),s({show_menu:!a}))},be("span",{class:"ethereal"},n.name),be("br",null),be("small",{class:"tabular d-none d-sm-inline"},d.get_address()?d.get_address():void 0,d.get_address()?void 0:`Please connect your ${window.ethereum&&ethereum.isMetaMask?"Metamask ":""}Wallet`)),be("div",{class:`${a?"show":void 0} dropdown-menu dropdown-menu-right w-100 text-right`},window.ethereum&&!d.get_address()&&ethereum.enable?[be("a",{class:"dropdown-item tabular",href:"#",onclick:e=>(e.preventDefault(),ethereum.enable().then(()=>location.reload()))},"Connect your Wallet"),be("div",{class:"dropdown-divider"})]:void 0,be("a",{class:"dropdown-item tabular",target:"_blank",href:"https://browser.blockstack.org/profiles"},n.username.replace(/\..*\..*$/i,""),be("small",null,".id.blockstack")),be("div",{class:"dropdown-divider"}),be("a",{class:"dropdown-item",href:"#",onclick:e=>(e.preventDefault(),n._.signout())},"Sign out"))):n.userSession?be("a",{class:"nav-link",href:"#",onclick:e=>(e.preventDefault(),n._.signin())},"Sign in with Blockstack"):void 0))))(e),be("main",{role:"main",class:"inner"},(({show_intro:e,_:a})=>{if(e)return be("div",{class:"jumbotron bg-dark my-5"},be("div",{class:"text-right"},be("h1",{class:"display-1 d-none d-md-block mb-5"},"the most secure ",be("br",null),"token exchange ",be("br",null),"on the planet"),be("h4",{class:"display-5 d-none d-md-block"},"fully ",be("span",{class:"tabular"},"decentralized")),be("h3",{class:"display-4"},"priced p2p token swaps"),be("h6",null,"More ERC20 tokens are coming on October ",be("span",{class:"tabular"},"1"),"st, ",be("span",{class:"tabular"},"2019"))),be("div",{class:"row"},be("div",{class:"col-lg"},be("hr",{class:"my-4"}),be("p",{class:"lead"},"Secure ERC20 token swapping means you are protected from things like front running, high-frequency trading or transaction reordering. It is ensured by a cryptographic commit/reveal process: ",be("ul",null,be("li",null,"Unique but random looking hash corresponding to your swap is getting committed to reserve your spot in the market execution order."),be("li",null,"Reveals are submitted 3 - 5 blocks after commits. Reveals are price-matched and executed in the same order as commits came in. Swap confirmation time would take only 3 - 5 blocks longer than a regular Ethereum transaction (about 30 - 60 seconds longer). If someone decides not to reveal their commit, market would hold execution of that swap pair for 7 blocks before evicting such commit. This round would take 7 blocks to clear (2 minutes)."),be("li",null,"There is no maker/taker commission but there will be a fixed fee (disabled for now) to commit a swap: ",1e6.toLocaleString()," gas paid in ETH. This is required to prevent spamming and demotivate gas price manipulation. The fee is about $0.50 to submit a slow commit and goes up as you increase your gas price."),be("li",null,"Your tokens are kept in your wallet all the time and swapped directly into counter-party wallet when matching counter-commit appears. If tokens are not present in your wallet at such moment, your commit gets evicted.")))),be("div",{class:"col-lg"},be("hr",{class:"my-4"}),be("p",{class:"lead"},"Full decentralization: ",be("ul",null,be("li",null,be("a",{target:"_blank",href:"https://blockstack.org/technology"},"Blockstack authentication and storage")," for user accounts and private data."),be("li",null,"Secure IPFS site hosting with ",be("a",{target:"_blank",href:"https://www.cloudflare.com/distributed-web-gateway/"},"Cloudflare distributed web gateway"),"."),be("li",null,"All market functionality is implemented in an autonomous smart-contract on Ethereum blockchain. This includes  commit/reveal book, buy/sell swap request books, price matching engine and wallet to wallet clearance."),be("li",null,"Pure peer to peer swapping. Tokens are never held in custody, they are transferred directly from wallet to wallet."),be("li",null,"This app communicates only with Blockstack and Ethereum blockchains. No backend servers, no user tracking, no cookies."),be("li",null,"Open source: you can inspect the source code on ",be("a",{href:"https://github.com/ethereal-market/market"},"Github"),"."),be("li",null,be("span",{class:"tabular"},ye)," is a cryptographically secure sorted message board. Each message represents an intent to swap one token for another. When you reveal your intent and matching counter-intent already exists on that board, your reveal is allowing you to take tokens from that counter-wallet and transfer your tokens instead."))))),be("hr",{class:"my-4"}),be("p",{class:"lead"},"This is Mainnet public beta: ",be("ul",null,be("li",null,"Make sure you have installed Metamask browser extension or using any other Web3 compatible wallet."),be("li",null,"If you are on the phone you can use Cipher Browser, Coinbase wallet, Opera Touch or other"),be("li",null,"You are able to buy and sell Wrapped Ether (WETH) for Wrapped Bitcoin (WBTC)"),be("li",null,"You can convert ETH to WETH by simply wrapping it"),be("li",null,"Add token addresses to you Wallet to see it appear there"),be("li",null,"If you have Ropsten or Kovan ETH you can select Ropsten or Kovan Test Network in your wallet."),be("li",null,"Please approve market to swap tokens for you."),be("li",null,"Submit your first commit and then reveal it to start swapping."),be("li",null,"When you commit or reveal and wallet pops up, remember set the gas price and pick average or fast TX time."))),be("hr",{class:"my-4"}),be("button",{class:"btn btn-dark btn-lg float-right",onclick:()=>(a({show_intro:!1}),localStorage.hide_intro=!0,setTimeout(()=>scrollTo(0,0),33))},"Happy swapping!"))})(e),(({tokenA:e,tokenB:a,web3_wallet:t})=>be("div",{class:"row my-5 text-right"},be("div",{class:"col-md-6 my-3 card border-0"},be("div",{class:"card-body"},be("h5",{class:"text-center"},a.name||" ",a.loading?be("span",{class:"spinner-grow spinner-grow-sm position-absolute ml-2"}):void 0),a.address===fe?be("a",{target:"_blank",href:"https://www.wbtc.network/"},"wbtc.network"):void 0,be("div",{class:"my-1"},be("small",{class:"tabular text-break"},a.address)),be("hr",null),be("div",{class:"row my-1"},be("div",{class:"col-5"},be("small",null,"BALANCE")),be("div",{class:"col-7 tabular"},he(a.balance||0,a.decimals),be("span",{class:"d-md-none d-lg-inline"}," ",a.symbol))),be("div",{class:"row my-1"},be("div",{class:"col-5"},be("small",null,"SWAP LIMIT")),be("div",{class:"col-7 tabular"},he(a.allowance||0,a.decimals),be("span",{class:"d-md-none d-lg-inline"}," ",a.symbol))),be("hr",null),be("div",{class:"btn-group btn-group-sm my-1 float-right"},a.address!==fe?be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||a.minting,onclick:a._.mint(1e3)},a.minting?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"MINT"):void 0,be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||a.approving,onclick:a._.approve(a.balance)},a.approving?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"APPROVE SWAPS")))),be("div",{class:"col-md-6 my-3 card border-0"},be("div",{class:"card-body"},be("h5",{class:"text-center"},e.name||" ",a.loading?be("span",{class:"spinner-grow spinner-grow-sm position-absolute ml-2"}):void 0),e.address===xe?[be("a",{class:"mr-4",target:"_blank",href:"https://0x.org/portal/weth"},be("span",{class:"tabular"},"0"),"x/weth"),be("a",{target:"_blank",href:"https://weth.io/"},"weth.io")]:void 0,be("div",{class:"my-1"},be("small",{class:"tabular text-break"},e.address)),be("hr",null),be("div",{class:"row my-1"},be("div",{class:"col-5"},be("small",null,"BALANCE")),be("div",{class:"col-7 tabular"},he(e.balance||0,e.decimals),be("span",{class:"d-md-none d-lg-inline"}," ",e.symbol))),be("div",{class:"row my-1"},be("div",{class:"col-5"},be("small",null,"SWAP LIMIT")),be("div",{class:"col-7 tabular"},he(e.allowance||0,e.decimals),be("span",{class:"d-md-none d-lg-inline"}," ",e.symbol))),be("hr",null),be("div",{class:"btn-group btn-group-sm my-1 float-right"},e.address!==xe?be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||e.minting,onclick:e._.mint(1e3)},e.minting?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"MINT"):void 0,e.address===xe?[be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||e.wrapping,onclick:e._.wrap},e.wrapping?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"WRAP ETH"),be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||e.unwrapping,onclick:e._.unwrap},e.unwrapping?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"UNWRAP")]:void 0,be("button",{class:"btn btn-outline-secondary",disabled:!t.get_address()||e.approving,onclick:e._.approve(e.balance)},e.approving?be("span",{class:"spinner-grow spinner-grow-sm mr-2"}):void 0,"APPROVE SWAPS"))))))(e),(({account:e,market:a,buy_form:t,sell_form:n,tokenA:d,tokenB:s,web3_wallet:i})=>be("div",{class:"row"},be("div",{class:"col-md-6 my-5"},be("h5",{class:"text-center"},"COMMIT TO BUY"),be("form",{class:"card border-0",onsubmit:e=>(e.preventDefault(),a._.limitBuy({token:d.address,quoteToken:s.address,amount:t.values.amount,price:t.values["price limit"]}))},be("div",{class:"card-body pb-0"},oe(t,s,"price limit","total","buy"),oe(t,d,"amount","total","buy"),be("hr",null),oe(t,s,"total","amount","buy"),be("hr",null),be("button",{disabled:!e.isSignedIn||!i.get_address(),type:"submit",class:"btn btn-block btn-outline-success rounded-pill text-right"},e.isSignedIn?be("span",null,be("span",{class:"d-none d-sm-inline d-md-none d-lg-inline"},"COMMIT TO "),"BUY ",be("small",{class:"tabular"}," ",he(t.values.amount,d.decimals)," "),be("small",{class:"tabular"}," ",d.symbol),t.values.total||0===t.values.total?be("br",null):void 0,be("span",{class:`${t.values.total?"d-none d-sm-inline d-md-none":void 0} d-lg-inline`}," FOR "),t.values.total?"TOTAL ":void 0,be("small",{class:"tabular"}," ",he(t.values.total,s.decimals)," "),be("small",{class:"tabular"}," ",s.symbol)):"SIGN IN TO COMMIT")),a.buy_commits.map(e=>{var t,n,i,r,l,o,c,u;return({amount:t,price:o,blockHash:n,revealing:u,revealed:c,clearing:r,cleared:i,evicted:l}=e),be("div",{class:"btn-group btn-group-sm mt-1",style:{opacity:i||l?.7:1}},be("button",{disabled:!0,class:"btn text-light"},be("span",{class:"text-success tabular"},he(o,s.decimals)),be("span",{class:"tabular"}," × ",he(t,d.decimals))),n&&!(u||c||i||l)?be("button",{type:"button",class:"btn btn-outline-success rounded-pill",style:{flex:3},onclick:a._.reveal(e)},"REVEAL"):void 0,i||l||n&&!u&&!r?void 0:be("button",{disabled:!0,class:"btn",style:{flex:3},onclick:a._.reveal(e)},be("div",{class:"progress border border-success rounded-pill"},be("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-success",style:`width: ${(r?75:u&&50)||25}%`}))),i?be("button",{disabled:!0,class:"btn text-light"},"CLEARED"):void 0,l?be("button",{disabled:!0,class:"btn text-danger"},"EVICTED"):void 0)}))),be("div",{class:"col-md-6 my-5"},be("h5",{class:"text-center"},"COMMIT TO SELL"),be("form",{class:"card border-0",onsubmit:e=>(e.preventDefault(),a._.limitSell({token:d.address,quoteToken:s.address,amount:n.values.amount,price:n.values["price limit"]}))},be("div",{class:"card-body pb-0"},oe(n,s,"price limit","total","sell"),oe(n,d,"amount","total","sell"),be("hr",null),oe(n,s,"total","amount","sell"),be("hr",null),be("button",{disabled:!e.isSignedIn||!i.get_address(),type:"submit",class:"btn btn-block btn-outline-warning rounded-pill text-right"},e.isSignedIn?be("span",null,be("span",{class:"d-none d-sm-inline d-md-none d-lg-inline"},"COMMIT TO "),"SELL ",be("small",{class:"tabular"}," ",he(n.values.amount,d.decimals)," "),be("small",{class:"tabular"}," ",d.symbol),n.values.total||0===n.values.total?be("br",null):void 0,be("span",{class:`${n.values.total?"d-none d-sm-inline d-md-none":void 0} d-lg-inline`}," FOR "),n.values.total?"TOTAL ":void 0,be("small",{class:"tabular"},he(n.values.total,s.decimals)," "),be("small",{class:"tabular"}," ",s.symbol)):"SIGN IN TO COMMIT")),a.sell_commits.map(e=>{var t,n,i,r,l,o,c,u;return({amount:t,price:o,blockHash:n,revealing:u,revealed:c,clearing:r,cleared:i,evicted:l}=e),be("div",{class:"btn-group btn-group-sm mt-1",style:{opacity:i||l?.7:1}},be("button",{disabled:!0,class:"btn text-light"},be("span",{class:"text-warning tabular"},he(o,s.decimals)),be("span",{class:"tabular"}," × ",he(t,d.decimals))),n&&!(u||c||i||l)?be("button",{type:"button",class:"btn btn-outline-warning rounded-pill",style:{flex:3},onclick:a._.reveal(e)},"REVEAL"):void 0,i||l||n&&!u&&!r?void 0:be("button",{disabled:!0,class:"btn",style:{flex:3},onclick:a._.reveal(e)},be("div",{class:"progress border border-warning rounded-pill"},be("div",{class:"progress-bar progress-bar-striped progress-bar-animated bg-warning",style:`width: ${(r?75:u&&50)||25}%`}))),i?be("button",{disabled:!0,class:"btn text-light"},"CLEARED"):void 0,l?be("button",{disabled:!0,class:"btn text-danger"},"EVICTED"):void 0)})))))(e),(({my_bids_only:e,my_offers_only:a,market:t,tokenA:n,tokenB:d,web3_wallet:s,_:i})=>{var r,l,o,c,u;return l=t.bids.filter(({wallet:e})=>e.toLowerCase()===s.get_address())||[],o=t.offers.filter(({wallet:e})=>e.toLowerCase()===s.get_address())||[],r=e?l:t.bids,c=a?o:t.offers,be("div",{class:"row my-5"},be("div",{class:"col-lg-6 my-4"},be("h5",{class:"text-center"},be("div",{class:"custom-control custom-switch d-inline-block"},be("input",{type:"checkbox",class:"custom-control-input",id:"buy-book-switch",onchange:e=>i({my_bids_only:e.target.checked})}),be("label",{class:"custom-control-label",for:"buy-book-switch",style:{opacity:e?1:.5}},be("span",{class:"badge badge-dark"},l.length),"MY")),be("span",{style:{opacity:e?.5:1}}," BUY COMMITS ",t.loading_book?be("span",{class:"spinner-grow spinner-grow-sm position-absolute ml-2"}):void 0)),be("div",{class:"scroller rounded-top"},be("table",{class:"table table-dark table-striped table-hover table-sm"},be("thead",null,be("tr",null,be("th",{class:"text-right"},be("small",null,"PRICE")),be("th",{class:"text-right tabular"},be("small",null,n.symbol)),be("th",{class:"text-right tabular"},be("small",null,d.symbol)),be("th",{class:"text-right d-none d-md-table-cell",style:{width:"25%"}},be("small",null,e?"ACTION":"SUM",e?void 0:be("span",{class:"tabular"}," ",d.symbol))))),be("tbody",null,r.length?void 0:be("tr",null,be("td",{class:"text-center text-white-50",colSpan:"5"},be("small",null,t.loading_book?"Loading...":e?"You don't have any commits in this book":"There are no commits in this book"))),(u=0,r.slice(0,100).map(a=>{var i,r,l,o;return({id:r,price:l,amount:i,wallet:o}=a),be("tr",{class:`${s.get_address()===o.toLowerCase()?"bg-dark-success":void 0}`},be("td",{class:"tabular text-right text-success"},be("small",null,he(l,d.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(i,n.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(l*i,d.decimals))),be("td",{class:"tabular text-right d-none d-md-table-cell"},e?a.canceling?[be("span",{class:"spinner-grow spinner-grow-sm text-dark"}),be("span",{class:"spinner-grow spinner-grow-sm text-dark"}),be("span",{class:"spinner-grow spinner-grow-sm text-dark"})]:be("button",{class:"btn btn-dark btn-sm xs rounded-pill",href:"#",onclick:e=>(e.preventDefault(),t._.cancel_bid(a))},"CANCEL"):be("small",null,he(u+=l*i,d.decimals))))})))))),be("div",{class:"col-lg-6 my-4"},be("h5",{class:"text-center"},be("div",{class:"custom-control custom-switch d-inline-block"},be("input",{type:"checkbox",class:"custom-control-input",id:"sell-book-switch",onchange:e=>i({my_offers_only:e.target.checked})}),be("label",{class:"custom-control-label",for:"sell-book-switch",style:{opacity:a?1:.5}},be("span",{class:"badge badge-dark"},o.length),"MY")),be("span",{style:{opacity:a?.5:1}}," SELL COMMITS ",t.loading_book?be("span",{class:"spinner-grow spinner-grow-sm position-absolute ml-2"}):void 0)),be("div",{class:"scroller rounded-top"},be("table",{class:"table table-dark table-striped table-hover table-sm"},be("thead",null,be("tr",null,be("th",{class:"text-right"},be("small",null,"PRICE")),be("th",{class:"text-right tabular"},be("small",null,n.symbol)),be("th",{class:"text-right tabular"},be("small",null,d.symbol)),be("th",{class:"text-right d-none d-md-table-cell",style:{width:"25%"}},be("small",null,a?"ACTION":"SUM",a?void 0:be("span",{class:"tabular"}," ",d.symbol))))),be("tbody",null,c.length?void 0:be("tr",null,be("td",{class:"text-center text-white-50",colSpan:"5"},be("small",null,t.loading_book?"Loading...":a?"You don't have any commits in this book":"There are no commits in this book"))),(u=0,c.slice(0,100).map(e=>{var i,r,l,o;return({id:r,price:l,amount:i,wallet:o}=e),be("tr",{class:`${s.get_address()===o.toLowerCase()?"bg-dark-warning":void 0}`},be("td",{class:"tabular text-right text-warning"},be("small",null,he(l,d.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(i,n.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(l*i,d.decimals))),be("td",{class:"tabular text-right d-none d-md-table-cell"},a?e.canceling?[be("span",{class:"spinner-grow spinner-grow-sm text-dark"}),be("span",{class:"spinner-grow spinner-grow-sm text-dark"}),be("span",{class:"spinner-grow spinner-grow-sm text-dark"})]:be("button",{class:"btn btn-dark btn-sm xs rounded-pill",href:"#",onclick:a=>(a.preventDefault(),t._.cancel_offer(e))},"CANCEL"):be("small",null,he(u+=l*i,d.decimals))))})))))))})(e),(({web3_wallet:e,market:a,tokenA:t,tokenB:n,my_history_only:d,_:s})=>{var i,r,l;return r=a.history.filter(({maker:a,taker:t})=>a.toLowerCase()===e.get_address()||t.toLowerCase()===e.get_address())||[],i=d&&r||a.history,be("div",{class:"row my-5"},be("div",{class:"col-lg-12"},be("h5",{class:"text-center"},be("div",{class:"custom-control custom-switch d-inline-block"},be("input",{type:"checkbox",class:"custom-control-input",id:"history-switch",onchange:e=>s({my_history_only:e.target.checked})}),be("label",{class:"custom-control-label",for:"history-switch",style:{opacity:d?1:.5}},be("span",{class:"badge badge-dark"},r.length),be("span",{class:"text"},"MY"))),be("span",{style:{opacity:d?.5:1}}," SWAP HISTORY ",a.loading_history?be("span",{class:"spinner-grow spinner-grow-sm position-absolute ml-2"}):void 0)),be("div",{class:"scroller rounded-top"},be("table",{class:"table table-dark table-striped table-hover table-sm"},be("thead",null,be("tr",null,be("th",{class:"text-center d-none d-md-table-cell"},be("small",null,"TYPE")),be("th",{class:"text-right"},be("small",null,"PRICE ",be("span",{class:"tabular"},n.symbol))),be("th",{class:"text-right"},be("small",null,"AMOUNT ",be("span",{class:"tabular"},t.symbol))),be("th",{class:"text-right"},be("small",null,"AMOUNT ",be("span",{class:"tabular"},n.symbol))),be("th",{class:"text-right d-none d-sm-table-cell"},be("small",null,"SUM ",be("span",{class:"tabular"},n.symbol))))),be("tbody",null,i.length?void 0:be("tr",null,be("td",{class:"text-center text-white-50",colSpan:"5"},be("small",null,a.loading_history?"Loading...":d?"You haven't swapped yet":"No swaps happened yet"))),(l=0,i.slice(0,100).map(({swapType:a,price:s,amount:i,maker:r,taker:o})=>be("tr",{class:e.get_address()?e.get_address()===o.toLowerCase()?"BUY"===a?"bg-dark-success":"bg-dark-warning":e.get_address()===r.toLowerCase()?"BUY"===a?"bg-dark-warning":"bg-dark-success":void 0:void 0},be("td",{class:`tabular text-center d-none d-md-table-cell ${"BUY"===a?"text-success":"text-warning"}`},be("small",null,d?e.get_address()===o.toLowerCase()?a:e.get_address()===r.toLowerCase()?"BUY"===a?"SELL":"BUY":void 0:a)),be("td",{class:`tabular text-right ${"BUY"===a?"text-success":"text-warning"}`},be("small",null,he(s,n.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(i,t.decimals))),be("td",{class:"tabular text-right"},be("small",null,he(s*i,n.decimals))),be("td",{class:"tabular text-right d-none d-sm-table-cell"},be("small",null,he(l+=s*i,n.decimals)))))))))))})(e)),be("footer",{class:"mastfoot mt-auto"},be("div",{class:"inner text-center"},be("small",null,be("span",{class:"tabular"},ye)," is not a registered national securities exchange, but an ",be("a",{target:"_blank",href:"https://github.com/ethereal-market/market"},"autonomous smart contract software program")," running on ",be("a",{target:"_blank",href:"https://www.ethereum.org/"},"Ethereum blockchain")))))};ve=0,we=e=>a=>(...t)=>{clearTimeout(ve),ve=setTimeout(a,e,...t)},_e=0,Be=(e=>a=>(...t)=>{clearTimeout(_e),_e=setTimeout(a,e,...t)})(300)(()=>location.reload()),window.ethereum?(ethereum.autoRefreshOnNetworkChange=!1,"function"==typeof ethereum.on&&ethereum.on("networkChanged",e=>{if("loading"!==e)return Te(e)}),"function"==typeof ethereum.on&&ethereum.on("accountsChanged",e=>{if("loading"!==e)return Be()}),Ee=window.Web3?new Web3(ethereum):window.web3):window.web3?(Ee=window.Web3?new Web3(web3.currentProvider):window.web3,ke="",null!=(Se=Ee.currentProvider.publicConfigStore)&&Se.on("update",({networkVersion:e,selectedAddress:a})=>(Te(e),ke&&ke!==a?Be():ke=a))):console.info("Error: no web3 wallet found"),null!=Ee&&null!=(Ce=Ee.version)&&Ce.getNetwork((e,a)=>Te(a)),Te=e=>{if((localStorage.eth_net_id||"1")!==e)return localStorage.eth_net_id=e,Be()};var Oe,Me,Pe,We={get_address:window.ethereum?()=>ethereum.selectedAddress||"":Ee?()=>{var e;return null!=(e=Ee.eth)?e.defaultAccount:void 0}:()=>{},get_balance:e=>new Promise((a,t)=>{var n;return(null!=Ee&&null!=(n=Ee.eth)?n.getBalance:void 0)||a(""),Ee.eth.getBalance(e,(e,n)=>e?t(e):a(n))})},Ie="1"===(localStorage.eth_net_id||"1")?new Web3ProviderWS("wss://mainnet.infura.io/ws/v3/354f99d9209b4e8a9f643e61bc3a2d9f"):window.ethereum||(null!=Ee?Ee.currentProvider:void 0),Fe=window.ethereum||(null!=Ee?Ee.currentProvider:void 0),De=[{constant:!0,inputs:[],name:"REVEAL_PERIOD",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapCommitted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapRevealed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"CommitCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"},{indexed:!1,name:"reason",type:"string"}],name:"CommitEvicted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"SwapPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"SwapFilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"SwapCanceled",type:"event"},{constant:!1,inputs:[{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"},{name:"_hash",type:"bytes32"}],name:"commitSwap",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{name:"_blockHash",type:"bytes32"},{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"},{name:"_type",type:"uint8"},{name:"_amount",type:"uint256"},{name:"_priceLimit",type:"uint256"},{name:"_nonce",type:"uint256"}],name:"reveal",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"}],name:"clearSwaps",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"},{name:"_id",type:"bytes32"},{name:"_after",type:"bytes32"}],name:"cancelBuySwap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"},{name:"_id",type:"bytes32"},{name:"_after",type:"bytes32"}],name:"cancelSellSwap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_BaseToken",type:"address"},{name:"_QuoteToken",type:"address"},{name:"_type",type:"uint8"},{name:"_size",type:"uint256"},{name:"_after",type:"bytes32"}],name:"getSwapBook",outputs:[{components:[{name:"id",type:"bytes32"},{name:"amount",type:"uint256"},{name:"price",type:"uint256"},{name:"wallet",type:"address"}],name:"",type:"tuple[]"}],payable:!1,stateMutability:"view",type:"function"}],Le={1:{events:{"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"OrderPlaced",type:"event",signature:"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a"},"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66"},"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderCanceled",type:"event",signature:"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a"},"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderCommitted",type:"event",signature:"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f"},"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderRevealed",type:"event",signature:"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91"},"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"CommitCleared",type:"event",signature:"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167"},"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"CommitExpired",type:"event",signature:"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79"},"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapCommitted",type:"event",signature:"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c"},"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapRevealed",type:"event",signature:"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848"},"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"},{indexed:!1,name:"reason",type:"string"}],name:"CommitEvicted",type:"event",signature:"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f"},"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"SwapPlaced",type:"event",signature:"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc"},"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"SwapFilled",type:"event",signature:"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0"},"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"SwapCanceled",type:"event",signature:"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088"}},links:{},address:"0x18F7e5077Cd03E9650c697551a6EC6F4A5FBE048",transactionHash:"0x5503d845508ab055bfe559695f7aaba00e70a3dc49817181108617d5d1ad2705"},3:{events:{"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"OrderPlaced",type:"event",signature:"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a"},"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66"},"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderCanceled",type:"event",signature:"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a"},"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderCommitted",type:"event",signature:"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f"},"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderRevealed",type:"event",signature:"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91"},"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"CommitCleared",type:"event",signature:"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167"},"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"CommitExpired",type:"event",signature:"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79"},"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapCommitted",type:"event",signature:"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c"},"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapRevealed",type:"event",signature:"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848"},"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"},{indexed:!1,name:"reason",type:"string"}],name:"CommitEvicted",type:"event",signature:"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f"},"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"SwapPlaced",type:"event",signature:"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc"},"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"SwapFilled",type:"event",signature:"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0"},"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"SwapCanceled",type:"event",signature:"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088"}},links:{},address:"0xCd2A3E603C65631fcb7Ee0e9f0180af00B66fA4C",transactionHash:"0x323ddacfe30cdd1c8fcb437ffc14c0c7658081ae8259649834db74248e96f88c"},42:{events:{"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"OrderPlaced",type:"event",signature:"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a"},"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66"},"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderCanceled",type:"event",signature:"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a"},"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderCommitted",type:"event",signature:"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f"},"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderRevealed",type:"event",signature:"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91"},"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"CommitCleared",type:"event",signature:"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167"},"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"CommitExpired",type:"event",signature:"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79"},"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapCommitted",type:"event",signature:"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c"},"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapRevealed",type:"event",signature:"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848"},"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"},{indexed:!1,name:"reason",type:"string"}],name:"CommitEvicted",type:"event",signature:"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f"},"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"SwapPlaced",type:"event",signature:"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc"},"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"SwapFilled",type:"event",signature:"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0"},"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"SwapCanceled",type:"event",signature:"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088"}},links:{},address:"0xeE453B8883589bD7b2B21E375Da4F625e91475fe",transactionHash:"0x0185cab2b6a249b7ffc82ff1525d05804ab12c07b75127a84574ef969a9ea634"},5777:{events:{"0x67c1939fa5eb9e023b9aeae964b525b140b946ac8dec811ad6c9a7f9f0e7ff60":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderPlaced",type:"event",signature:"0x67c1939fa5eb9e023b9aeae964b525b140b946ac8dec811ad6c9a7f9f0e7ff60"},"0x9da34e1fabe5cc401adee19cb1b2a49c3ca7421a88e13cd562d79ec363183c3a":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x9da34e1fabe5cc401adee19cb1b2a49c3ca7421a88e13cd562d79ec363183c3a"},"0x081b301ef12119cf458d13ac7027d51040489ca2662c6184bf9d5528cecdc9f9":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"}],name:"OrderCanceled",type:"event",signature:"0x081b301ef12119cf458d13ac7027d51040489ca2662c6184bf9d5528cecdc9f9"},"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"OrderPlaced",type:"event",signature:"0xa3d5c8ca81db6d0bd064a6ba5ebadf93b6ff7611f49f055c4c9a59523af28e7a"},"0xb4a11ec795227f329b67d20ccf04529eb7ca5246bd4f506c8f8ed050ceb26dae":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0xb4a11ec795227f329b67d20ccf04529eb7ca5246bd4f506c8f8ed050ceb26dae"},"0xa0921c5ac10b617edf747c300ec049008532628c62f1ef696ff731cf8870f46b":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderCanceled",type:"event",signature:"0xa0921c5ac10b617edf747c300ec049008532628c62f1ef696ff731cf8870f46b"},"0x5f7c16d46fe430a9e12d70adbec107f316bb590907c947ebb37c79eea3bb55a1":{anonymous:!1,inputs:[{indexed:!1,name:"Token",type:"address"},{indexed:!1,name:"Currency",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x5f7c16d46fe430a9e12d70adbec107f316bb590907c947ebb37c79eea3bb55a1"},"0x3c5ad147104e56be34a9176a6692f7df8d2f4b29a5af06bc6b98970d329d6577":{anonymous:!1,inputs:[{indexed:!1,name:"name",type:"string"},{indexed:!1,name:"value",type:"uint256"}],name:"Debug",type:"event",signature:"0x3c5ad147104e56be34a9176a6692f7df8d2f4b29a5af06bc6b98970d329d6577"},"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"OrderFilled",type:"event",signature:"0x68b6b765546f3bdd06c74f6a60263cd861ee78f6e99b7cb7efc856e73c017d66"},"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a":{anonymous:!1,inputs:[{indexed:!1,name:"BaseToken",type:"address"},{indexed:!1,name:"QuoteToken",type:"address"},{indexed:!1,name:"orderType",type:"uint8"},{indexed:!1,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"OrderCanceled",type:"event",signature:"0x4cfe07a8e551f86dc5e0df200c9df645142e2ef1dc4ea70fdfc0b026c5e7564a"},"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderCommitted",type:"event",signature:"0x618f4b972bbf47368afa703b6364149479e0ec1be241a0f569b9321312505d0f"},"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"OrderRevealed",type:"event",signature:"0x806ed238505909ad50b0c8aa4aa9b3880d78af1e9d70a2b8e9a7f269b5781b91"},"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79":{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"}],name:"CommitExpired",type:"event",signature:"0xe62c26da19d4cb521682ce0785d8ab4e9b575359dc7f629c5efbf174092b4f79"},"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"CommitCleared",type:"event",signature:"0x3bdaee6e704aacae6a8bf523e8167a70b9325a4ef678754f7df0167c4b95f167"},"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapCommitted",type:"event",signature:"0xe4030a0eecadba77a3d658971f45e85074fb6b4d6c4592545901e16adf56d26c"},"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"}],name:"SwapRevealed",type:"event",signature:"0x894c68bc39e00b5f6f17b0d348c038f9420d1ce2fef147076489d7825e8e3848"},"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f":{anonymous:!1,inputs:[{indexed:!0,name:"hash",type:"bytes32"},{indexed:!1,name:"reason",type:"string"}],name:"CommitEvicted",type:"event",signature:"0xcaa1d92871f6864a55dade04a055744abf1fa260ebd79238d76e3c4bfd5acb8f"},"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"placedAfter",type:"bytes32"}],name:"SwapPlaced",type:"event",signature:"0xd47836a7ec12d7a6d08a515618a43d929c2330433ecf7c014e02a374641532cc"},"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"maker",type:"address"},{indexed:!1,name:"taker",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"price",type:"uint256"},{indexed:!1,name:"id",type:"bytes32"},{indexed:!1,name:"fully",type:"bool"}],name:"SwapFilled",type:"event",signature:"0x2d506723d317e6248a1ab95dd015cde59828be79eb3112ed1adf6e01b23efea0"},"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088":{anonymous:!1,inputs:[{indexed:!0,name:"BaseToken",type:"address"},{indexed:!0,name:"QuoteToken",type:"address"},{indexed:!1,name:"swapType",type:"uint8"},{indexed:!0,name:"wallet",type:"address"},{indexed:!1,name:"id",type:"bytes32"}],name:"SwapCanceled",type:"event",signature:"0x933c4b55e152ebfe474c29daf454c06fc3f67c004c793dee4c1b77bff4147088"}},links:{},address:"0x73a35F7F96dE8537749AEc353DCf94C90690C439",transactionHash:"0x02995859fe88a49513470c9a64bbd2a596adbb14489eeacd00f01df643ea29de"}};Le[Me=localStorage.eth_net_id||"1"]||(Me="1");var Ne=window.Market=new Web3EthContract(De,Le[Me].address);Ne.setProvider(Ie),Fe&&(Ne.Wallet=Oe=new Web3EthContract(De,Le[Me].address),Oe.setProvider(Fe)),(Pe=new Web3Method({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:Web3Utils.hexToNumber})).setRequestManager(Ne._requestManager),Pe.attachToObject(Ne);var He,Qe,Re,Ue,Ve,$e,je,Ye=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],qe={3:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0x7Dee57765767d8D40818D0cc7486d32Bb2D1E09C",transactionHash:"0xfee220c3d712283e5671d2f05bed2e6c82fbf455c15ae8d6e8d9b86c8566841b"},42:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0x22eDe3A7155E043De7aA428a373Eb63a95Ed6DCD",transactionHash:"0xcefa57f45f62089f6e6dbf66bde61171c1eb5b5ed58643b69ced681ccfe1435e"},5777:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0x6ff219781EC14f36396b32Be5e4192eFDb4643dd",transactionHash:"0xc962debfaaad603507e64dfdeb56fb7100d8f61d43ffcd33f4956aba6ba97231"}};qe[Re=localStorage.eth_net_id||"1"]||(Re="1"),"1"===Re?(Ve=xe,Ue=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"index_0",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"index_0",type:"address"},{name:"index_1",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],outputs:[],payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_spender",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],name:"Approval",outputs:[],type:"event"},{anonymous:!1,inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],name:"Transfer",outputs:[],type:"event"},{anonymous:!1,inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],name:"Deposit",outputs:[],type:"event"},{anonymous:!1,inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_value",type:"uint256",indexed:!1}],name:"Withdrawal",outputs:[],type:"event"}],je=fe,$e=Ye):(Ve=qe[Re].address,Ue=Ye,je={3:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0xAB677Cd72554E6700a56196701be18393eb82f3E",transactionHash:"0xf5c403175813f578350634fca85a5733f2488414b569ca5aa3ba13f422130a6a"},42:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0x797B452497D66bf27549Ba411148C2Ed7D33342e",transactionHash:"0x6a1004b3e5a41dde8ec9335de60ba3e0ac28f879391f451351be88b7d300aa68"},5777:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}},links:{},address:"0xFC1c161570deB107A8a8866032c3A55adFd5Df60",transactionHash:"0x226c1c97d47b830c7bec43a1112c0418bdafe8628b64583e6f09852b9d25b39d"}}[Re].address,$e=Ye);var Ke=window.TokenA=new Web3EthContract(Ue,Ve);Ke.setProvider(Ie);var Ge=window.TokenB=new Web3EthContract($e,je);Ge.setProvider(Ie),Fe&&(Ke.Wallet=He=new Web3EthContract(Ue,Ve),He.setProvider(Fe),Ge.Wallet=Qe=new Web3EthContract($e,je),Qe.setProvider(Fe));var ze,Xe=e=>a=>t=>{var n;return n=a&&a.methods.decimals().call().then(e=>+e),{address:a&&a._address,name:"",symbol:"",decimals:0,balance:0,allowance:0,inited:!1,loading:!0,minting:!1,approving:!1,canceling:!1,wrapping:!1,unwrapping:!1,_:{init:(t,d)=>{if(!d.inited)return d.inited=!0,a.methods.name().call().then(e=>d._({name:e})),a.methods.symbol().call().then(e=>d._({symbol:e})),n.then(e=>d._({decimals:e})),e.get_address()?(d._.getBalance(),d._.getAllowance(),addEventListener("focus",d._.getBalance)):n.then(()=>d._({loading:!1}))},getBalance:async(t,{_:d})=>{var s;return d({loading:!0}),s=await n,a.methods.balanceOf(e.get_address()).call().then(e=>d({loading:!1,balance:parseFloat(e)/10**s}))},mint:t=>async(d,{_:s})=>{var i;if(a.Wallet)return s({minting:!0}),i=await n,await a.Wallet.methods.mint(e.get_address(),ge(t*10**i)).send({from:e.get_address()}).finally(()=>s({minting:!1})),s.getBalance()},getAllowance:async(d,s)=>{var i;return null==s.allowance&&(s.allowance=0),i=await n,a.methods.allowance(e.get_address(),t).call().then(e=>s._({allowance:parseFloat(e)/10**i}))},approve:d=>async(s,{_:i})=>{var r;if(a.Wallet)return i({approving:!0}),r=await n,await a.Wallet.methods.approve(t,ge(d*10**r)).send({from:e.get_address()}).finally(()=>i({approving:!1})),i.getAllowance()},wrap:async(t,{address:n,_:d})=>{var s;if(a.Wallet&&n===xe)return d({wrapping:!0}),s=parseFloat(await e.get_balance(e.get_address())),await a.Wallet.methods.deposit().send({from:e.get_address(),value:ge(.8*s)}).finally(()=>d({wrapping:!1})),d.getBalance()},unwrap:async(t,{address:d,balance:s,_:i})=>{var r;if(a.Wallet&&d===xe)return i({unwrapping:!0}),r=await n,await a.Wallet.methods.withdraw(ge(s*10**r)).send({from:e.get_address()}).finally(()=>i({unwrapping:!1})),i.getBalance()}}}};ze={0:"BUY",1:"SELL"};var Je,Ze,ea=()=>({values:{},updates:{},_:{readNumberAndAdjust:e=>a=>t=>({target:t},n)=>{var d;({values:d}=n),(d[e]=t.value&&parseFloat(t.value))&&("price limit"===e&&"total"===a&&d.amount||"amount"===e&&"total"===a&&d["price limit"]?(n.updates.total=d["price limit"]*d.amount,n._({})):"total"===e&&"amount"===a&&d["price limit"]&&(n.updates.amount=d.total/d["price limit"],n._({})))},updateInputValue:e=>a=>(t,n)=>{var d;null!=(d=n.updates[e])&&(t.value=he(n.values[e]=d,a),n._().updates={...n.updates,[e]:void 0})}}});Je={...Web3Utils,abi:Web3Abi},me({show_intro:!localStorage.hide_intro,rainbow:{colors:Ze=[[35,51,51],[35,51,47],[36,51,35],[35,51,49],[40,51,35],[40,51,38]],those:[0,1,0,3],stage:0,speed:.01,inited:!1,active:!0,_:{init:(e,a)=>{if(!a.inited)return a.inited=!0,a._.calc()},destroy:(e,a)=>a.active=!1,calc:(e,a)=>{var t,n,d,s,i;a.active&&(window.requestIdleCallback?setTimeout(()=>requestIdleCallback(a._.calc),100):setTimeout(a._.calc,1e3),({random:t,round:n}=Math),({colors:Ze,those:i,stage:s,speed:d}=a),a.style={backgroundImage:`linear-gradient(to left, rgb(${n(Ze[i[0]][0]*(1-s)+Ze[i[1]][0]*s)}, ${n(Ze[i[0]][1]*(1-s)+Ze[i[1]][1]*s)}, ${n(Ze[i[0]][2]*(1-s)+Ze[i[1]][2]*s)}) , rgb(${n(Ze[i[2]][0]*(1-s)+Ze[i[3]][0]*s)}, ${n(Ze[i[2]][1]*(1-s)+Ze[i[3]][1]*s)}, ${n(Ze[i[2]][2]*(1-s)+Ze[i[3]][2]*s)}))`},(a.stage+=d)>=1&&(a.stage-=1,i[0]=i[1],i[2]=i[3],i[1]=t()*Ze.length|0,i[3]=t()*Ze.length|0))}}},web3_wallet:We,account:(()=>({userSession:null,isSignedIn:!1,name:"",username:"",inited:!1,_:{init:(e,a)=>{if(!a.inited)return a.inited=!0,window.blockstack?a._.init_blockstack():addEventListener("load",a._.init_blockstack)},init_blockstack:(e,a)=>{var t;(t=a._.setUserSession()).isUserSignedIn()?a._.setUserData(t.loadUserData()):t.isSignInPending()&&t.handlePendingSignIn().then(e=>location.search?window.location=location.origin:a._.setUserData(e))},setUserSession:(e,a)=>{var t;return t=new blockstack.AppConfig,a.userSession=new blockstack.UserSession({appConfig:t})},setUserData:(e,a)=>{var t;return a.userData=e,a.person=t=new blockstack.Person(e.profile),a.isSignedIn=a.userSession.isUserSignedIn(),a.name=t&&t.name()||e&&e.username.replace(".id.blockstack",""),a.username=e&&e.username},signin:(e,a)=>a.userSession.redirectToSignIn(),signout:(e,a)=>(a.userSession.signUserOut(),window.location=window.location.origin)}}))(),market:(e=>a=>t=>n=>d=>{var s,i,r,l,o;return({abi:s,keccak256:l,toBN:o}=e),i=n&&n.methods.decimals().call().then(e=>+e),r=d&&d.methods.decimals().call().then(e=>+e),{address:t&&t._address,last_price:0,volume:0,on_balance_update:()=>{},commits__hash:{},buy_commits:[],sell_commits:[],clearance_subscription:null,eviction_subscription:null,bids__id:{},bids:[],offers__id:{},offers:[],history:[],history__swap_hash:{},history__event_id:{},history_subscription:null,blocks:{},inited:!1,loading_book:!0,loading_history:!0,_:{init:async(e,a)=>{var n;if(!a.inited&&t&&t.getBlockNumber)return a.inited=!0,n=await new Promise((e,a)=>t.getBlockNumber((t,n)=>t?a(t):e(n))),a._.getSwapBook(n),a._.getHistory(n),a._.getCommitClearance(n)},destroy:(e,a)=>{var t,n,d;return null!=(t=a.history_subscription)&&t.unsubscribe(),null!=(n=a.clearance_subscription)&&n.unsubscribe(),null!=(d=a.eviction_subscription)?d.unsubscribe():void 0},getCommitClearance:(e,a)=>({clearance_subscription:t.events.CommitCleared({fromBlock:e-11},(e,{returnValues:{hash:t}})=>{var n;e?console.error(e):(n=a.commits__hash[t])&&(n.clearing=!1,n.cleared=!0,a._({}))}),eviction_subscription:t.events.CommitEvicted({fromBlock:e-11},(e,{returnValues:{hash:t}})=>{var n;e?console.error(e):(n=a.commits__hash[t])&&(n.clearing=!1,n.evicted=!0,a._({}))})}),getHistory:async(e,s)=>{var l,o,c,u,p,m,b;return s._({loading_history:!0}),l=await i,o=await r,c=await t.getPastEvents("SwapFilled",{filter:{Token:n._address,quoteToken:d._address},fromBlock:e-18e4,toBlock:e}),m={},p={},u=[],b=({removed:e,blockHash:t,transactionHash:n,logIndex:d,returnValues:{id:i,swapType:r,price:c,amount:b,maker:y,taker:f}})=>{var x,h,g;x=[t,n,d].join(""),e?(h=p[x])&&(m[i]=p[x]=void 0,u.splice(u.indexOf(h),1)):p[x]||((g=a.get_address())!==y&&g!==f||"function"==typeof s.on_balance_update&&s.on_balance_update(),u.unshift(m[i]=p[x]={swapType:ze[r],price:parseFloat(c)/10**o,amount:parseFloat(b)/10**l,id:i,eventId:x,blockHash:t,maker:y,taker:f}))},c.forEach(b),s._({loading_history:!1,history:u,history__swap_hash:m,history__event_id:p,history_subscription:t.events.SwapFilled({fromBlock:e+1},(e,a)=>e?console.error(e):(b(a),s._({})))})},getSwapBook:async(e,a)=>{var s,l,o,c,u,p,m;return a._({loading_book:!0}),o=await i,c=await r,l={},m={},s=[],p=[],u={},await Promise.all([t.methods.getSwapBook(n._address,d._address,0,200,"0x0").call(void 0,e).then(e=>a._({bids__id:l,bids:s=e.map(e=>{var a,t,n;return({id:t,price:n,amount:a}=e),e.price=parseFloat(n)/10**c,e.amount=parseFloat(a)/10**o,l[t]=e})})),t.methods.getSwapBook(n._address,d._address,1,200,"0x0").call(void 0,e).then(e=>a._({offers__id:m,offers:p=e.map(e=>{var a,t,n;return({id:t,price:n,amount:a}=e),e.price=parseFloat(n)/10**c,e.amount=parseFloat(a)/10**o,m[t]=e})}))]),a._({loading_book:!1,placed_subscription:t.events.SwapPlaced({filter:{BaseToken:n._address,QuoteToken:d._address},fromBlock:e+1},(e,{removed:t,returnValues:{id:n,swapType:d,wallet:i,amount:r,price:u,placedAfter:b}})=>{var y,f,x,h,g;if(e)console.error(e);else{if(h=0==+d?s:p,(g=0==+d?l:m)[n])return;"0x0000000000000000000000000000000000000000000000000000000000000000"===b?((x={id:n,swapType:d,wallet:i}).price=parseFloat(u)/10**c,x.amount=parseFloat(r)/10**o,g[n]=x,h.unshift(x),a._({})):(f=g[b])&&((x={id:n,swapType:d,wallet:i}).price=parseFloat(u)/10**c,x.amount=parseFloat(r)/10**o,g[n]=x,y=h.indexOf(f),h.splice(y+1,0,x),a._({}))}}),filled_subscription:t.events.SwapFilled({filter:{BaseToken:n._address,QuoteToken:d._address},fromBlock:e+1},(e,{removed:t,blockHash:n,transactionHash:d,logIndex:i,returnValues:{id:r,swapType:c,amount:b,fully:y}})=>{var f,x,h,g,v;f=[n,d,i].join(""),e?console.error(e):u[f]||(u[f]=!0,g=1==+c?s:p,(h=(v=1==+c?l:m)[r])&&(y?(x=g.indexOf(h),g.splice(x,1),v[r]=void 0):h.amount-=parseFloat(b)/10**o,a._({})))}),canceled_subscription:t.events.SwapCanceled({filter:{BaseToken:n._address,QuoteToken:d._address},fromBlock:e+1},(e,{removed:t,returnValues:{id:n,swapType:d}})=>{var i,r,o,c;e?console.error(e):(o=0==+d?s:p,(r=(c=0==+d?l:m)[n])&&(i=o.indexOf(r),o.splice(i,1),c[n]=void 0,a._({})))})})},limitBuy:async({token:e,quoteToken:t,amount:n,price:d},o)=>{var c,u;return c={wallet:a.get_address(),token:e,quoteToken:t,swapType:0,amountString:ge(n*10**await i),priceString:ge(d*10**await r),nonce:Date.now()},u=l(s.encodeParameters(["address","address","address","uint256","uint256","uint256","uint256"],Object.values(c))),c.hash=u,c.amount=n,c.price=d,o.buy_commits.push(o.commits__hash[u]=c),o._({}),o._.commitSwap(c).then(({blockHash:e})=>(c.blockHash=e,o._({}))).catch(e=>(o.buy_commits.splice(o.buy_commits.indexOf(c),1),o._({}),Promise.reject(e)))},limitSell:async({token:e,quoteToken:t,amount:n,price:d},o)=>{var c,u;return c={wallet:a.get_address(),token:e,quoteToken:t,swapType:1,amountString:ge(n*10**await i),priceString:ge(d*10**await r),nonce:Date.now()},u=l(s.encodeParameters(["address","address","address","uint256","uint256","uint256","uint256"],Object.values(c))),c.hash=u,c.amount=n,c.price=d,o.sell_commits.push(o.commits__hash[u]=c),o._({}),o._.commitSwap(c).then(({blockHash:e})=>(c.blockHash=e,o._({}))).catch(e=>(o.sell_commits.splice(o.sell_commits.indexOf(c),1),o._({}),Promise.reject(e)))},commitSwap:e=>{if(t.Wallet)return t.Wallet.methods.commitSwap(e.token,e.quoteToken,e.hash).send({from:a.get_address()}).then(e=>(console.log({commit:e}),e))},reveal:e=>(n,d)=>{var s,i,r,l,o,c,u;t.Wallet&&([u,c,l,o,s,r,i]=Object.values(e),e.revealing=!0,t.Wallet.methods.reveal(e.blockHash,c,l,o.toString(),s,r,i).send({from:a.get_address(),gas:4e5}).then(a=>(console.log({reveal:a}),e.revealing=!1,e.revealed=!0,e.clearing=!0,d._({}),a)).catch(()=>(e.revealing=!1,d._({}))),d._({}))},execute:(e,s)=>{if(t.Wallet)return t.Wallet.methods.executeSwaps(n._address,d._address).send({from:a.get_address(),gas:4e5}).then(e=>(console.log({executed:e}),e)).catch(e=>(console.error(e),Promise.reject(e)))},cancel_bid:(e,s)=>{if(t.Wallet)return e.canceling=!0,s._({}),t.Wallet.methods.cancelBuySwap(n._address,d._address,e.id,"0x0").send({from:a.get_address()}).then(e=>(console.log({canceled:e}),e)).catch(a=>(console.error(a),e.canceling=!1,s._({}),Promise.reject(a)))},cancel_offer:(e,s)=>{if(t.Wallet)return e.canceling=!0,s._({}),t.Wallet.methods.cancelSellSwap(n._address,d._address,e.id,"0x0").send({from:a.get_address()}).then(e=>(console.log({canceled:e}),e)).catch(a=>(console.error(a),e.canceling=!1,s._({}),Promise.reject(a)))}}}})(Je)(We)(Ne)(Ke)(Ge),tokenA:Xe(We)(Ke)(Ne&&Ne._address),tokenB:Xe(We)(Ge)(Ne&&Ne._address),buy_form:ea(),sell_form:ea()})(Ae)(le(document.body))}();
//# sourceMappingURL=bundle.js.map
